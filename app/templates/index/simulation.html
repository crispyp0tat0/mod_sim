{% extends 'base.html' %} {% block title %}European Roulette{% endblock %} {%
block content %}
<div class="top-container">
  <form id="simulation-form">
    <h3>Simulation Settings</h3>
    <div class="sim-settings">
      <label for="sim-runs">Number of spins:</label>
      <input
        type="number"
        id="sim-runs"
        name="sim-runs"
        value="10000"
        min="1"
      />

      <label for="sim-balance">Starting balance:</label>
      <input
        type="number"
        id="sim-balance"
        name="sim-balance"
        value="1000"
        min="1"
      />
    </div>
    <button type="submit">Run Simulation</button>
  </form>

  <div id="simulation-results">
    <h4>Results:</h4>
    <pre id="sim-output"></pre>
  </div>
</div>

<div class="roulette-table">
  <div class="chip-selector">
    <label for="chip-select">Select chip value:</label>
    <select id="chip-select">
      <option value="1" selected>1</option>
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="100">100</option>
    </select>
    <button id="clear-bets">Clear Bets</button>
  </div>
  <!-- Main number grid -->
  <div class="number-grid">
    <!-- Zero row -->
    <div class="row">
      <button class="zero" data-type="straight" data-value="0">0</button>
    </div>

    <!-- Row 1: 1,2,3 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="3">
        3
      </button>
      <button class="split" data-type="split" data-value="[2,3]"></button>
      <button class="straight black" data-type="straight" data-value="2">
        2
      </button>
      <button class="split" data-type="split" data-value="[1,2]"></button>
      <button class="straight red" data-type="straight" data-value="1">
        1
      </button>
      <button class="street" data-type="street" data-value="[1,2,3]"></button>
    </div>
    <div class="row connector-row">
      <div></div>
      <button class="splitv" data-type="split" data-value="[3,6]"></button>
      <button class="corner" data-type="corner" data-value="[2,3,5,6]"></button>
      <button class="splitv" data-type="split" data-value="[2,5]"></button>
      <button class="corner" data-type="corner" data-value="[1,2,4,5]"></button>
      <button class="splitv" data-type="split" data-value="[1,4]"></button>
      <button class="line" data-type="line" data-value="[1,2,3,4,5,6]"></button>
    </div>

    <!-- Row 2: 4,5,6 -->
    <div class="row">
      <button class="straight black" data-type="straight" data-value="6">
        6
      </button>
      <button class="split" data-type="split" data-value="[5,6]"></button>
      <button class="straight red" data-type="straight" data-value="5">
        5
      </button>
      <button class="split" data-type="split" data-value="[4,5]"></button>
      <button class="straight black" data-type="straight" data-value="4">
        4
      </button>
      <button class="street" data-type="street" data-value="[4,5,6]"></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[6,9]"></button>
      <button class="corner" data-type="corner" data-value="[5,6,8,9]"></button>
      <button class="splitv" data-type="split" data-value="[5,8]"></button>
      <button class="corner" data-type="corner" data-value="[4,5,7,8]"></button>
      <button class="splitv" data-type="split" data-value="[4,7]"></button>
      <button class="line" data-type="line" data-value="[4,5,6,7,8,9]"></button>
    </div>

    <!-- Row 3: 7,8,9 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="9">
        9
      </button>
      <button class="split" data-type="split" data-value="[8,9]"></button>
      <button class="straight black" data-type="straight" data-value="8">
        8
      </button>
      <button class="split" data-type="split" data-value="[7,8]"></button>
      <button class="straight red" data-type="straight" data-value="7">
        7
      </button>
      <button class="street" data-type="street" data-value="[7,8,9]"></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[9,12]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[8,9,11,12]"
      ></button>
      <button class="splitv" data-type="split" data-value="[8,11]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[7,8,10,11]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[7,8,9,10,11,12]"
      ></button>
    </div>

    <!-- Row 4: 10,11,12 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="12">
        12
      </button>
      <button class="split" data-type="split" data-value="[11,12]"></button>
      <button class="straight black" data-type="straight" data-value="11">
        11
      </button>
      <button class="split" data-type="split" data-value="[10,11]"></button>
      <button class="straight black" data-type="straight" data-value="10">
        10
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[10,11,12]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[12,15]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[11,12,14,15]"
      ></button>
      <button class="splitv" data-type="split" data-value="[11,14]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[10,11,13,14]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[10,11,12,13,14,15]"
      ></button>
    </div>

    <!-- Row 5: 13,14,15 -->
    <div class="row">
      <button class="straight black" data-type="straight" data-value="15">
        15
      </button>
      <button class="split" data-type="split" data-value="[14,15]"></button>
      <button class="straight red" data-type="straight" data-value="14">
        14
      </button>
      <button class="split" data-type="split" data-value="[13,14]"></button>
      <button class="straight black" data-type="straight" data-value="13">
        13
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[13,14,15]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[15,18]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[14,15,17,18]"
      ></button>
      <button class="splitv" data-type="split" data-value="[14,17]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[13,14,16,17]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[13,14,15,16,17,18]"
      ></button>
    </div>

    <!-- Row 6: 16,17,18 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="18">
        18
      </button>
      <button class="split" data-type="split" data-value="[17,18]"></button>
      <button class="straight black" data-type="straight" data-value="17">
        17
      </button>
      <button class="split" data-type="split" data-value="[16,17]"></button>
      <button class="straight red" data-type="straight" data-value="16">
        16
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[16,17,18]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[18,21]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[17,18,20,21]"
      ></button>
      <button class="splitv" data-type="split" data-value="[17,20]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[16,17,19,20]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[16,17,18,19,20,21]"
      ></button>
    </div>

    <!-- Row 7: 19,20,21 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="21">
        21
      </button>
      <button class="split" data-type="split" data-value="[20,21]"></button>
      <button class="straight black" data-type="straight" data-value="20">
        20
      </button>
      <button class="split" data-type="split" data-value="[19,20]"></button>
      <button class="straight red" data-type="straight" data-value="19">
        19
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[19,20,21]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[21,24]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[20,21,23,24]"
      ></button>
      <button class="splitv" data-type="split" data-value="[20,23]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[19,20,22,23]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[19,20,21,22,23,24]"
      ></button>
    </div>

    <!-- Row 8: 22,23,24 -->
    <div class="row">
      <button class="straight black" data-type="straight" data-value="24">
        24
      </button>
      <button class="split" data-type="split" data-value="[23,24]"></button>
      <button class="straight red" data-type="straight" data-value="23">
        23
      </button>
      <button class="split" data-type="split" data-value="[22,23]"></button>
      <button class="straight black" data-type="straight" data-value="22">
        22
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[22,23,24]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[24,27]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[23,24,26,27]"
      ></button>
      <button class="splitv" data-type="split" data-value="[23,26]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[22,23,25,26]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[22,23,24,25,26,27]"
      ></button>
    </div>

    <!-- Row 9: 25,26,27 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="27">
        27
      </button>
      <button class="split" data-type="split" data-value="[26,27]"></button>
      <button class="straight black" data-type="straight" data-value="26">
        26
      </button>
      <button class="split" data-type="split" data-value="[25,26]"></button>
      <button class="straight red" data-type="straight" data-value="25">
        25
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[25,26,27]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[27,30]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[26,27,29,30]"
      ></button>
      <button class="splitv" data-type="split" data-value="[26,29]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[25,26,28,29]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[25,26,27,28,29,30]"
      ></button>
    </div>

    <!-- Row 10: 28,29,30 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="30">
        30
      </button>
      <button class="split" data-type="split" data-value="[29,30]"></button>
      <button class="straight black" data-type="straight" data-value="29">
        29
      </button>
      <button class="split" data-type="split" data-value="[28,29]"></button>
      <button class="straight black" data-type="straight" data-value="28">
        28
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[28,29,30]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[30,33]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[29,30,32,33]"
      ></button>
      <button class="splitv" data-type="split" data-value="[29,32]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[28,29,31,32]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[28,29,30,31,32,33]"
      ></button>
    </div>

    <!-- Row 11: 31,32,33 -->
    <div class="row">
      <button class="straight black" data-type="straight" data-value="33">
        33
      </button>
      <button class="split" data-type="split" data-value="[32,33]"></button>
      <button class="straight red" data-type="straight" data-value="32">
        32
      </button>
      <button class="split" data-type="split" data-value="[31,32]"></button>
      <button class="straight black" data-type="straight" data-value="31">
        31
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[31,32,33]"
      ></button>
    </div>
    <div class="row connector-row">
      <button class="splitv" data-type="split" data-value="[33,36]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[32,33,35,36]"
      ></button>
      <button class="splitv" data-type="split" data-value="[32,35]"></button>
      <button
        class="corner"
        data-type="corner"
        data-value="[31,32,34,35]"
      ></button>
      <button
        class="splitv bot"
        data-type="split"
        data-value="[28,31]"
      ></button>
      <button
        class="line"
        data-type="line"
        data-value="[31,32,33,34,35,36]"
      ></button>
    </div>

    <!-- Row 12: 34,35,36 -->
    <div class="row">
      <button class="straight red" data-type="straight" data-value="36">
        36
      </button>
      <button class="split" data-type="split" data-value="[35,36]"></button>
      <button class="straight black" data-type="straight" data-value="35">
        35
      </button>
      <button class="split" data-type="split" data-value="[34,35]"></button>
      <button class="straight red" data-type="straight" data-value="34">
        34
      </button>
      <button
        class="street"
        data-type="street"
        data-value="[34,35,36]"
      ></button>
    </div>

    <!-- Column bets -->
    <div class="row column-bets">
      <button
        class="column-bet rotate-90"
        data-type="column"
        data-value="[3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36]"
      >
        <span class="rotate-text">2 to 1</span>
      </button>
      <button
        class="column-bet rotate-90"
        data-type="column"
        data-value="[2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35]"
      >
        <span class="rotate-text">2 to 1</span>
      </button>
      <button
        class="column-bet rotate-90"
        data-type="column"
        data-value="[1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34]"
      >
        <span class="rotate-text">2 to 1</span>
      </button>
    </div>
  </div>

  <div class="outside-bet">
    <!-- Dozens -->
    <div class="column dozens">
      <button
        class="dozen"
        data-type="dozen"
        data-value="[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]"
      >
        1st 12
      </button>
      <button
        class="dozen"
        data-type="dozen"
        data-value="[13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]"
      >
        2nd 12
      </button>
      <button
        class="dozen"
        data-type="dozen"
        data-value="[25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]"
      >
        3rd 12
      </button>
    </div>

    <!-- Outside bets: 1-18, Even, Red, Black, Odd, 19-36 -->
    <div class="column outside-bets">
      <button
        class="low"
        data-type="high_low"
        data-value="[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]"
      >
        1-18
      </button>
      <button
        class="even"
        data-type="even_odd"
        data-value="[2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36]"
      >
        Even
      </button>
      <button class="red" data-type="color" data-value="red">Red</button>
      <button class="black" data-type="color" data-value="black">Black</button>
      <button
        class="odd"
        data-type="even_odd"
        data-value="[1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35]"
      >
        Odd
      </button>
      <button
        class="high"
        data-type="high_low"
        data-value="[19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]"
      >
        19-36
      </button>
    </div>
  </div>
</div>

<form id="weights-form">
  <h3>Set Number Weights (0-36)</h3>
  <div id="sliders-container">
    {% for i in range(37) %}
    <div class="slider-row">
      <label for="weight-{{ i }}">No. {{ i }}:</label>
      <input
        type="number"
        id="weight-{{ i }}"
        name="weight-{{ i }}"
        min="0"
        value="{{ weights[i] }}"
      />
    </div>
    {% endfor %}
  </div>
  <button type="submit">Update Weights</button>
</form>

<script>
  const simForm = document.getElementById("simulation-form");
  const simOutput = document.getElementById("sim-output");

  simForm.addEventListener("submit", (e) => {
    e.preventDefault();

    const runs =
      parseInt(document.getElementById("sim-runs").value, 10) || 1000;
    const balance =
      parseInt(document.getElementById("sim-balance").value, 10) || 1000000;

    // Gather bets from current selection
    const simBets = bets.map((b) => ({ ...b })); // copy of current bets

    fetch("/simulation", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      credentials: "same-origin",
      body: JSON.stringify({
        runs,
        balance,
        bets: simBets,
      }),
    })
      .then((res) => res.json())
      .then((data) => {
        // Instead of showing JSON, show the plot image
        const simOutputDiv = document.getElementById("sim-output");
        simOutputDiv.innerHTML = ""; // clear previous content

        if (data.plot) {
          const img = document.createElement("img");
          img.src = "data:image/png;base64," + data.plot;
          img.alt = "Winnings Random Walk";
          img.style.maxWidth = "100%";
          simOutputDiv.appendChild(img);
        }

        // Optional: log totals
        console.log("Total winnings:", data.total_winnings);
        console.log("Number counts:", data.number_count);
        console.log("Color counts:", data.color_count);
      })
      .catch((err) => {
        console.error(err);
        alert("Error running simulation.");
      });
  });

  // Update label as slider moves
  for (let i = 0; i <= 36; i++) {
    const slider = document.getElementById(`weight-${i}`);
    const label = document.getElementById(`weight-value-${i}`);

    slider.addEventListener("input", () => {
      label.textContent = slider.value;
    });
  }

  const weightsForm = document.getElementById("weights-form");

  weightsForm.addEventListener("submit", (e) => {
    e.preventDefault();

    const weights = [];
    for (let i = 0; i <= 36; i++) {
      const val =
        parseInt(document.getElementById(`weight-${i}`).value, 10) || 0;
      weights.push(val);
    }

    fetch("/api/update_weights", {
      // <-- your backend endpoint
      method: "POST",
      headers: { "Content-Type": "application/json" },
      credentials: "same-origin",
      body: JSON.stringify({ weights }),
    })
      .then((res) => res.json())
      .then((data) => {
        if (data.success) {
          alert("Weights updated successfully!");
          console.log("Backend weights:", data.weights);
        } else {
          alert("Failed to update weights: " + data.message);
        }
      })
      .catch((err) => {
        console.error(err);
        alert("Error sending weights to backend.");
      });
  });

  const bets = [];

  document.getElementById("clear-bets").addEventListener("click", () => {
    bets.length = 0;
    betButtons.forEach((button) => button.classList.remove("active-bet"));
  });

  const chipSelect = document.getElementById("chip-select");
  const betButtons = document.querySelectorAll(
    ".number-grid button, .outside-bets button, .dozen"
  );

  // Helper to parse data-value
  function parseChoices(value) {
    try {
      const parsed = JSON.parse(value);
      // Ensure it's always an array
      return Array.isArray(parsed) ? parsed : [parsed];
    } catch {
      // If parsing fails, treat as single number or string
      return [value];
    }
  }

  // Add click listeners to all bet buttons
  betButtons.forEach((button) => {
    button.addEventListener("click", () => {
      const betType = button.dataset.type;
      const choices = parseChoices(button.dataset.value);
      const amount = parseInt(chipSelect.value, 10);

      // Add or update bet if already exists
      const existingIndex = bets.findIndex(
        (b) =>
          b.bet_type === betType &&
          JSON.stringify(b.choices) === JSON.stringify(choices)
      );

      if (existingIndex > -1) {
        bets[existingIndex].amount += amount; // Add chip value to existing bet
      } else {
        bets.push({ bet_type: betType, choices, amount });
      }

      button.classList.add("active-bet");

      console.log("Current bets:", bets);
    });
  });

  // Spin button
  document.getElementById("spin-button").addEventListener("click", function () {
    if (bets.length === 0) {
      alert("Place at least one bet!");
      return;
    }

    fetch("/api/spin", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      credentials: "same-origin",
      body: JSON.stringify({ bets }),
    })
      .then((r) => r.json())
      .then((data) => {
        const wheelOrder = [
          0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10,
          5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26,
        ];

        const wheel = document.querySelector(".wheel");
        const index = wheelOrder.indexOf(data.number);
        const slice = 360 / wheelOrder.length;
        const finalAngle = index * slice * -1 + 360 * 5;

        wheel.style.transition = "none";
        wheel.style.transform = "rotate(0deg)";
        void wheel.offsetWidth; // force reset
        wheel.style.transition = "transform 3.5s ease-out";
        wheel.style.transform = `rotate(${finalAngle}deg)`;

        document.getElementById("result-number").textContent = data.number;
        document.getElementById("result-color").textContent = data.color;
        document.getElementById("result-winnings").textContent = data.winnings;
        document.getElementById("result-balance").textContent = data.balance;
      });
  });

  document.getElementById("top-up").addEventListener("click", () => {
    const topUpAmount = 1000; // or prompt the user for an amount

    fetch("/api/topup", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      credentials: "same-origin",
      body: JSON.stringify({ amount: topUpAmount }),
    })
      .then((res) => res.json())
      .then((data) => {
        if (data.success) {
          document.getElementById("result-balance").textContent =
            data.new_balance;
          console.log(`Balance topped up to ${data.new_balance}`);
        } else {
          alert("Top up failed: " + data.message);
        }
      })
      .catch((err) => {
        alert("Error");
      });
  });
</script>

<style>
  /* Container layout */
  .top-container {
    display: flex;
    gap: 20px; /* space between form and results */
    align-items: flex-start;
    font-family: sans-serif;
  }

  /* Form on the left */
  #simulation-form {
    flex: 0 0 300px; /* fixed width for the form */
    display: flex;
    flex-direction: column;
    min-height: 400px;
    gap: 15px;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 8px;
    background-color: #f9f9f9;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    box-sizing: border-box;
  }

  #simulation-form h3 {
    text-align: center;
    margin-bottom: 15px;
  }

  .sim-settings {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 15px;
  }

  .sim-settings label {
    margin-bottom: 4px;
    font-weight: bold;
  }

  .sim-settings input {
    padding: 6px 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: 100%;
    box-sizing: border-box;
  }

  #simulation-form button {
    align-self: flex-start; /* left-justified */
    padding: 8px 12px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  #simulation-form button:hover {
    background-color: #0056b3;
  }

  /* Results area */
  #simulation-results {
    flex: 1;
    min-height: 400px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    background-color: #f9f9f9;
    box-sizing: border-box;
    overflow: auto;
  }

  #simulation-results h4 {
    margin-top: 0;
    margin-bottom: 10px;
  }

  #simulation-results pre {
    margin: 0;
    white-space: pre-wrap;
    word-break: break-word;
  }

  /* Sliders and weights form (keep previous style) */
  #sliders-container {
    display: grid;
    grid-template-columns: repeat(12, 1fr); /* 12 per row */
    gap: 5px;
  }

  .slider-row {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .slider-row label {
    font-size: 12px;
    margin-bottom: 2px;
    text-align: center;
  }

  .slider-row input[type="number"] {
    width: 50px;
    text-align: center;
  }

  #weights-form {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  #weights-form button {
    display: block;
    margin: 15px auto 0 auto;
    padding: 8px 16px;
  }
</style>
{% endblock %}
